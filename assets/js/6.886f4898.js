(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{453:function(e,t,a){},456:function(e,t,a){},461:function(e,t,a){"use strict";var l=a(453);a.n(l).a},462:function(e,t,a){"use strict";var l={name:"TDatePicker",data:function(){return{startTime:this.startDate,endTime:this.endDate,startTimeConf:this.startTimeConfig(),endTimeConf:this.endTimeConfig()}},props:{startDate:{type:[String,Date]},endDate:{type:[String,Date]},plusTime:{type:Boolean,default:!1},pickerType:{type:String,default:"date"}},watch:{startDate:function(e){this.startTime=e},endDate:function(e){this.endTime=e}},methods:{startTimeConfig:function(){var e=this;return{disabledDate:function(t){if(e.endTime)return new Date(e.endTime).getTime()<=t.getTime()}}},endTimeConfig:function(){var e=this;return{disabledDate:function(t){if(e.startTime)return new Date(e.startTime).getTime()-864e5>=t.getTime()}}},startTimeChange:function(e){this.startTime=e,this.plusTime&&this.startTime&&this.startTime.length<11&&(this.startTime=this.startTime+" 00:00:00"),this.$emit("startChange",this.startTime)},endTimeChange:function(e){this.endTime=e,this.plusTime&&this.endTime&&this.endTime.length<11&&(this.endTime=this.endTime+" 23:59:59"),this.$emit("endChange",this.endTime)}}},i=(a(461),a(35)),n=Object(i.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"t-date-picker flex-box"},[a("el-date-picker",e._g(e._b({staticClass:"date-pick",attrs:{type:e.pickerType,size:"large","value-format":"yyyy-MM-dd","picker-options":e.startTimeConf,placeholder:"开始日期"},on:{change:e.startTimeChange},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},"el-date-picker",e.$attrs,!1),e.$listeners)),e._v(" "),a("div",{staticClass:"flex-box flex-ver",staticStyle:{padding:"0 5px"}},[e._v("-")]),e._v(" "),a("el-date-picker",e._g(e._b({staticClass:"date-pick",attrs:{type:e.pickerType,size:"large","value-format":"yyyy-MM-dd","picker-options":e.endTimeConf,placeholder:"结束日期"},on:{change:e.endTimeChange},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},"el-date-picker",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.a=n.exports},484:function(e,t,a){},485:function(e,t,a){"use strict";var l=a(456);a.n(l).a},486:function(e,t,a){},500:function(e,t,a){"use strict";a(63),a(155),a(504),a(100),a(62),a(455),a(103),a(245),a(10),a(38),a(102),a(48),a(505),a(158);var l=a(71),i={name:"TUploadFile",data:function(){return{loading:!1,startTime:"",endTime:"",isImgReg:/.png|.jpg|.jpeg|.PNG|.JPG|.JPEG/,url:"",hideUpload:!1,showAddImg:!0,dialogImageUrl:"",dialogVisible:!1,singleResult:{},showFileList:[],downloadFixedIcons:[{type:0,url:""},{type:1,url:""},{type:2,url:""},{type:3,url:""},{type:4,url:""},{type:5,url:""},{type:6,url:""},{type:7,url:""}]}},props:{group:{type:String,default:"1"},multiple:{type:Boolean,default:!1},limitSize:{type:String,default:"10"},limit:{type:Number,default:100},saveFileType:{type:String,default:"9"},fileType:{type:String,default:".jpg,.jpeg,.bmp,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.txt,.rar,.zip"},savePath:{type:String,default:""},fileUploadAddr:{type:String,default:""},disabled:{type:Boolean,default:!1},fileNameLimit:{type:Number,default:50},editBackFile:{type:Boolean,default:!1},fileIdList:{type:[Array,String],default:function(){return[]}},setKey:{type:String,default:null},isShowTips:{type:Boolean,default:!0},extendTips:{type:String,default:""}},computed:{},mounted:function(){this.editBackFile||this.disabled,this.disabled&&(this.hideUpload=!0)},methods:{uploadCallback:function(e){},uploadRequest:function(e){},beforeUpload:function(e){var t=e.size/1048576>this.limitSize,a=e.name.length>this.fileNameLimit,l=/\s/.test(e.name),i=e.name.slice(e.name.lastIndexOf(".")+1).toLocaleLowerCase(),n=-1===this.fileType.indexOf("."+i);return t&&this.$message.error("上传文件不得大于"+this.limitSize+"MB"),l&&this.$message.error("上传文件名称不得含有空格"),a&&this.$message.error("上传文件名称不得大于"+this.fileNameLimit+"位字符"),n&&this.$message.error("上传文件类型不符合要求"),!(t||a||n||l)},handleSuccess:function(e,t,a){var l={res:this.findIdList(this.showFileList)};this.$emit("uploadSuccess",l,this.setKey)},showDownLoadFile:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var a,l,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],e.showFileList=[],"string"==typeof e.fileIdList&&""!==e.fileIdList?a.push(e.fileIdList):a=e.fileIdList||[],e.hideUpload=a.length>=e.limit,l=0;case 5:if(!(l<a.length)){t.next=14;break}return t.next=8,e.$ajaxRequest("GETIMAGE","downloadFile",{id:a[l]});case 8:i=t.sent,n=window.URL.createObjectURL(new Blob([i])),e.showFileList.push({id:a[l],url:n,name:i.filename});case 11:l++,t.next=5;break;case 14:case"end":return t.stop()}}),t)})))()},onPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},onPreview4show:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},findIdList:function(e){return e.map((function(e){return e.id}))},onRemove:function(e,t){var a=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var l,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=e.id,a.showFileList.forEach((function(e,t){e.id===l&&a.showFileList.splice(t,1)})),i=a.findIdList(a.showFileList),a.$emit("deleteSuccess",{res:i},a.setKey),a.hideUpload=a.showFileList.length>=a.limit;case 6:case"end":return t.stop()}}),t)})))()},downloadFixedIcon:function(e){return/.bmp|.gif/.test(e)?this.downloadFixedIcons[0].url:/.doc|.docx/.test(e)?this.downloadFixedIcons[1].url:/.xls|.xlsx/.test(e)?this.downloadFixedIcons[3].url:/.txt/.test(e)?this.downloadFixedIcons[4].url:/.pdf/.test(e)?this.downloadFixedIcons[5].url:/.zip/.test(e)||/.rar/.test(e)?this.downloadFixedIcons[6].url:void 0},downloadFile:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function a(){var l,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$ajaxRequest("DOWNLOAD","downloadFile",{fileId:e});case 2:(l=a.sent).head&&"000000"===l.head.resCode&&((i=document.createElement("a")).style.display="none",i.href=l.data.downloadUrl,i.download=l.data.fileName,document.body.appendChild(i),i.click(),document.body.removeChild(i));case 4:case"end":return a.stop()}}),a)})))()},fileListChange:function(e,t){this.hideUpload=t.length>=this.limit}}},n=(a(485),a(35)),s=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-file-container-outer"},[a("div",{staticClass:"upload-file-container"},[a("el-upload",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:{hide:e.hideUpload},attrs:{action:e.savePath,multiple:e.multiple,"list-type":"picture-card","on-change":e.fileListChange,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,"on-preview":e.onPreview,"on-remove":e.onRemove,accept:e.fileType,disabled:e.disabled,limit:e.limit,"http-request":e.uploadRequest,"file-list":e.showFileList},scopedSlots:e._u([{key:"file",fn:function(t){var l=t.file;return a("div",{staticClass:"el-upload-list__item",staticStyle:{position:"relative"}},[e.isImgReg.test(l.name)?a("img",{staticClass:"el-upload-list__item-thumbnail pointer",attrs:{src:l.url,alt:""}}):e._e(),e._v(" "),e.isImgReg.test(l.name)?e._e():a("p",{staticClass:"text-center file-name-style"},[e._v(e._s(l.name))]),e._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[e.isImgReg.test(l.name)?a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){e.onPreview4show(e.isImgReg.test(l.name)?l.url:e.downloadFixedIcon(l.name))}}},[a("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e._v(" "),a("span",{staticClass:"el-upload-list__item-delete"},[a("i",{staticClass:"el-icon-download"})]),e._v(" "),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.onRemove(l)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},"el-upload",e.$attrs,!1),e.$listeners),[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,size:"tiny"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),e.isShowTips?a("div",{staticClass:"upload-file-tips"},[a("i",{staticClass:"iconfont jdh-info t-font-size-12 text-primary"}),e._v("\n    仅允许上传类型为"+e._s(e.fileType)+",文件名不超过"+e._s(e.fileNameLimit)+"位，并且不大于"+e._s(e.limitSize)+"MB的文件。\n  ")]):e._e(),e._v(" "),e._t("extendTips")],2)}),[],!1,null,null,null);t.a=s.exports},537:function(e,t,a){"use strict";var l=a(484);a.n(l).a},542:function(e,t,a){"use strict";var l=a(486);a.n(l).a},564:function(e,t,a){"use strict";a.r(t);a(101),a(26),a(153);var l={name:"TForm",components:{TDatePicker:a(462).a},props:{className:{type:String},formData:{type:Object,default:function(){return{}}},fieldList:{type:Array,default:function(){return[]}},rules:{type:Object,default:function(){return{}}},operatorList:{type:Array,default:function(){return[]}},listTypeInfo:{type:Object,default:function(){return{}}},labelWidth:{type:String,default:"120px"},refObj:{type:Object},isOperator:{type:Boolean,default:!0}},data:function(){return{}},watch:{formData:{handler:function(e){this.$emit("update:refObj",this.$refs.form)},deep:!0}},mounted:function(){this.$emit("update:refObj",this.$refs.form)},methods:{getConfigList:function(){return this.fieldList.filter((function(e){return!e.hasOwnProperty("show")||e.hasOwnProperty("show")&&e.show}))},getOperatorList:function(){return this.operatorList.filter((function(e){return!e.hasOwnProperty("show")||e.hasOwnProperty("show")&&e.show}))},getPlaceholder:function(e){return["input","textarea"].includes(e.type)?"请输入"+e.label:["select","time","select-obj","date","t-date"].includes(e.type)?"请选择"+e.label:e.label},handleEvent:function(e,t,a){this.$emit("handleEvent",e,t,a)}}},i=(a(537),a(35)),n={name:"formData",components:{TForm:Object(i.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",e._g(e._b({ref:"form",staticClass:"t-form",class:e.className,attrs:{model:e.formData,rules:e.rules,"label-width":e.labelWidth}},"el-form",e.$attrs,!1),e.$listeners),[e._l(e.getConfigList(),(function(t,l){return a("el-form-item",e._g(e._b({key:l,class:t.className,attrs:{prop:t.value,label:t.label,rules:t.rules}},"el-form-item",e.$attrs,!1),e.$listeners),["slot"===t.type?[e._t("form-"+t.value)]:e._e(),e._v(" "),"input"===t.type||"password"===t.type?a("el-input",{attrs:{type:t.type,disabled:t.disabled,clearable:!1!==t.clearable||t.clearable,placeholder:e.getPlaceholder(t)},on:{change:function(a){return e.handleEvent(t.event,e.formData[t.value])}},scopedSlots:e._u([t.prepend?{key:"prepend",fn:function(){return[e._v(e._s(t.prepend))]},proxy:!0}:null,t.append?{key:"append",fn:function(){return[e._v(e._s(t.append))]},proxy:!0}:null],null,!0),model:{value:e.formData[t.value],callback:function(a){e.$set(e.formData,t.value,a)},expression:"formData[item.value]"}}):e._e(),e._v(" "),"textarea"===t.type?a("el-input",{attrs:{type:t.type,disabled:t.disabled,placeholder:e.getPlaceholder(t),autosize:t.autosize||{minRows:2,maxRows:10}},on:{change:function(a){return e.handleEvent(t.event,e.formData[t.value])}},model:{value:e.formData[t.value],callback:function(a){e.$set(e.formData,t.value,"string"==typeof a?a.trim():a)},expression:"formData[item.value]"}}):e._e(),e._v(" "),"inputNumber"===t.type?a("el-input-number",{attrs:{size:"small",clearable:!1!==t.clearable||t.clearable,min:t.min,max:t.max},on:{change:function(a){return e.handleEvent(t.event,e.formData[t.value])}},model:{value:e.formData[t.value],callback:function(a){e.$set(e.formData,t.value,a)},expression:"formData[item.value]"}}):e._e(),e._v(" "),"checkbox"===t.type?a("el-checkbox-group",{staticClass:"flex-box",on:{change:function(a){return e.handleEvent(t.event,e.formData[t.value])}},model:{value:e.formData[t.value],callback:function(a){e.$set(e.formData,t.value,a)},expression:"formData[item.value]"}},e._l(e.listTypeInfo[t.list],(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1):e._e(),e._v(" "),"select"===t.type?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,clearable:!1!==t.clearable||t.clearable,filterable:!1!==t.filterable||t.filterable,placeholder:e.getPlaceholder(t)},on:{change:function(a){return e.handleEvent(t.event,e.formData[t.value])}},model:{value:e.formData[t.value],callback:function(a){e.$set(e.formData,t.value,a)},expression:"formData[item.value]"}},e._l(e.listTypeInfo[t.list],(function(e,l){return a("el-option",{key:l,attrs:{label:e[t.arrLabel],value:e[t.arrKey]}})})),1):e._e(),e._v(" "),"select-obj"===t.type?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,clearable:!1!==t.clearable||t.clearable,filterable:!1!==t.filterable||t.filterable,placeholder:e.getPlaceholder(t)},on:{change:function(a){return e.handleEvent(t.event,e.formData[t.value])}},model:{value:e.formData[t.value],callback:function(a){e.$set(e.formData,t.value,a)},expression:"formData[item.value]"}},e._l(e.listTypeInfo[t.list],(function(e,t,l){return a("el-option",{key:l,attrs:{label:e,value:t}})})),1):e._e(),e._v(" "),"date"===t.type?a("el-date-picker",{attrs:{type:t.dateType,"picker-options":t.TimePickerOptions,clearable:!1!==t.clearable||t.clearable,disabled:t.disabled,"value-format":t.format||"yyyy-MM-dd",placeholder:e.getPlaceholder(t)},on:{change:function(a){return e.handleEvent(t.event,a,t.value)}},model:{value:e.formData[t.value],callback:function(a){e.$set(e.formData,t.value,a)},expression:"formData[item.value]"}}):e._e(),e._v(" "),"t-date"===t.type?a("t-date-picker",{attrs:{plusTime:!1!==t.plusTime||t.plusTime,clearable:!1!==t.clearable||t.clearable,startDate:e.formData[t.startDate],endDate:e.formData[t.endDate]},on:{startChange:function(a){return e.handleEvent(t.event,a,t.startDate)},endChange:function(a){return e.handleEvent(t.event,a,t.endDate)}}}):e._e()],2)})),e._v(" "),e.isOperator?a("div",{staticClass:"flex-box flex-ver t-margin-top-5"},e._l(e.getOperatorList(),(function(t){return a("el-button",{key:t.label,attrs:{type:t.type,icon:t.icon,size:t.size||"medium"},on:{click:function(e){return t.fun(t)}}},[e._v(e._s(t.label))])})),1):e._e()],2)}),[],!1,null,"647c067d",null).exports,TUploadFile:a(500).a},data:function(){return{uploadFile:{fmFileList:[],uploadObj:{},checkedList:[{check:!0,type:"001"}]},formInfo:{labelWidth:"500px",ref:null,formData:{id:"",account:"",password:"",name:"",type:"",sex:"",hobby:[],phone:"",createDate:"",startDate:"",endDate:"",wechat:"",qq:"",accountType:"",email:"",desc:"",status:""},fieldList:[{label:"账号",value:"account",type:"input",event:"account"},{label:"密码",value:"password",type:"password"},{label:"昵称",value:"name",type:"input"},{label:"性别",value:"sex",type:"select",list:"sexList",arrLabel:"key",arrKey:"value"},{label:"平台用户",value:"accountType",type:"select-obj",list:"accountTypeList"},{label:"状态",value:"status",type:"select",list:"statusList",arrLabel:"key",arrKey:"value"},{label:"爱好",value:"hobby",type:"checkbox",list:"hobbyList",event:"checkbox"},{label:"头像",value:"avatar",type:"slot",className:"t-form-block"},{label:"手机号码",value:"phone",type:"input"},{label:"创建时间",value:"createDate",type:"date",dateType:"year",format:"yyyy"},{label:"时间范围",startDate:"startDate",endDate:"endDate",type:"t-date",event:"date"},{label:"微信",value:"wechat",type:"input"},{label:"QQ",value:"qq",type:"input"},{label:"邮箱",value:"email",type:"input",rules:[{required:!0,message:"邮箱不能为空！"},{validator:function(e,t,a){/^([a-z0-9A-Z]+[-|._]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/.test(t)?a():a(new Error("请输入正确格式的邮箱"))}}]},{label:"描述",value:"desc",type:"textarea",className:"t-form-block"}],rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],name:[{required:!0,message:"请输入昵称",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],hobby:[{type:"array",required:!0,message:"请至少选择一个爱好",trigger:"change"}]},operatorList:[{label:"提交",type:"danger",fun:this.submitForm},{label:"重置",type:"primary",fun:this.resetForm}]},listTypeInfo:{hobbyList:[{label:"吉他",value:"0"},{label:"看书",value:"1"},{label:"美剧",value:"2"},{label:"旅游",value:"3"},{label:"音乐",value:"4"}],sexList:[{key:"女",value:1},{key:"男",value:0}],accountTypeList:{0:"手机用户",1:"论坛用户",2:"平台用户"},statusList:[{key:"启用",value:1},{key:"停用",value:0}]}}},methods:{pushUploadItem:function(e,t){console.log(e,t);var a=e.res;this.uploadFile.uploadObj[t]=a,this.uploadFile.uploadObj[t]&&0!==this.uploadFile.uploadObj[t].length||delete this.uploadFile.uploadObj[t];for(var l=[],i=0,n=Object.keys(this.uploadFile.uploadObj);i<n.length;i++){var s=n[i],r={attachmentNo:this.uploadFile.uploadObj[s],attachmentType:s};l.push(r)}this.uploadFile.fmFileList=l},handleEvent:function(e,t,a){switch(e){case"date":console.log(1111111,t,e,a),this.formInfo.formData[a]=t;break;case"checkbox":console.log(2222,t,e,a)}},submitForm:function(){var e=this;this.formInfo.ref.validate((function(t){console.log(88,t),console.log(77,e.formInfo.formData)}))},resetForm:function(){Object.assign(this.$data.formInfo.formData,this.$options.data().formInfo.formData)}}},s=(a(542),Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-data"},[a("t-form",{attrs:{"ref-obj":e.formInfo.ref,"form-data":e.formInfo.formData,"field-list":e.formInfo.fieldList,rules:e.formInfo.rules,"operator-list":e.formInfo.operatorList,"list-type-info":e.listTypeInfo},on:{"update:refObj":function(t){return e.$set(e.formInfo,"ref",t)},"update:ref-obj":function(t){return e.$set(e.formInfo,"ref",t)},handleEvent:e.handleEvent},scopedSlots:e._u([{key:"form-avatar",fn:function(){return e._l(e.uploadFile.checkedList,(function(t){return a("div",{key:t.type,staticClass:"slot-avatar"},[a("t-upload-file",{attrs:{attachmentType:t.type},on:{uploadSuccess:e.pushUploadItem,deleteSuccess:e.pushUploadItem}})],1)}))},proxy:!0}])})],1)}),[],!1,null,null,null));t.default=s.exports}}]);